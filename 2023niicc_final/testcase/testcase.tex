\newcounter{TCcounter}
\setcounter{TCcounter}{0}

\makeatletter
\newcommand{\autoLabelTC}[1]{
  \stepcounter{TCcounter}
  \ifnum\value{TCcounter}<10
    \protected@edef\@currentlabel{TT-TC-0\arabic{TCcounter}}
  \else
    \protected@edef\@currentlabel{TT-TC-\arabic{TCcounter}}
  \fi
  \hspace*{-0.7em}
  \textbf{\@currentlabel}
  \label{#1}
}

\newcommand{\testcaseTable}{}

\newcommand{\addtestcase}[5]{
  \gappto{\testcaseTable}{
    \begin{longtable}{|l|p{13.25cm}|}
      \hline
      \textbf{編號} & \autoLabelTC{#1} \\
      \hline
      \textbf{測試名稱} & #1 \\
      \hline
      \textbf{測試模組} & #2 \\
      \hline
      \textbf{相關功能性需求} & #3 \\
      \hline
      \textbf{指令動作} & #4 \\
      \hline
      \textbf{預期結果} & #5 \\
      \hline
    \end{longtable}
  }
}
\makeatother

\section{系統測試案例設計}

\addtestcase
  {軌跡記錄功能測試}
  {}
  {\ref{記錄軌跡}}
  {在應用程式中啟動GPS記錄功能}
  {GPS記錄功能應該成功啟動且軌跡正確地在地圖上反映。}

\addtestcase
  {暫停記錄功能測試}
  {}
  {\ref{記錄軌跡}、\ref{暫停記錄軌跡}}
  {在應用程式中啟動GPS記錄功能。在記錄軌跡的過程中，選擇暫停功能。}
  {軌跡記錄應該停止。}

\addtestcase
  {影像記錄功能測試}
  {}
  {\ref{記錄軌跡}、\ref{從APP開啟相機}}
  {在應用程式中啟動GPS記錄功能。在應用程式內點擊開啟相機的功能。進行拍照或錄影。}
  {成功開啟手機的相機功能，且照片或影片能成功儲存。}

\addtestcase
  {音訊記錄功能測試}
  {}
  {\ref{記錄軌跡}、\ref{從APP錄音}}
  {在應用程式中啟動GPS記錄功能。在應用程式內點擊開啟麥克風的功能。進行錄音。}
  {成功開啟麥克風並進行錄音，且音訊能成功儲存。}

\addtestcase
  {文字記錄功能測試}
  {}
  {\ref{記錄軌跡}、\ref{記錄文字}}
  {在應用程式中啟動GPS記錄功能。在文字記錄功能中，輸入日記或心得。}
  {輸入的文字應該成功儲存。}

\addtestcase
  {快速紀錄文字資料測試}
  {}
  {\ref{記錄軌跡}、\ref{快速記錄}}
  {查看手機通知並於TravelTracker的持續性通知打開動作選項，選擇快速紀錄後輸入文字，然後點選送出。}
  {輸入的文字應該成功儲存。}

\addtestcase
  {顯示旅程及軌跡測試}
  {}
  {\ref{檢視旅程列表}、\ref{切換各個旅程的可見性}、\ref{檢視軌跡列表}、\ref{地圖上顯示軌跡}}
  {點擊管理列表按鈕，顯示旅程列表。點擊查看圖標按鈕隱藏/取消隱藏旅程，確認至少有一個非隱藏狀態的旅程。點擊旅程詳細資料按鈕，顯示旅程詳細資料。左滑切換至軌跡列表，確認至少有一個軌跡。}
  {旅程中的軌跡正確顯示在地圖上。}

\addtestcase
  {顯示旅遊資料測試(一)}
  {}
  {\ref{篩選旅遊資料}、\ref{地圖旁以時間軸方式顯示旅遊資料}、\ref{軌跡上以群集顯示旅遊資料}}
  {確認至少有一個非隱藏狀態的旅程且至少具有一個以上的軌跡及資料。點選篩選資料按鈕，顯示篩選\&排序介面。根據日期、標籤等條件或是地理位置篩選和搜尋旅遊資料。}
  {軌跡和資料正確顯示在地圖上。}

\addtestcase
  {顯示旅遊資料測試(二)}
  {}
  {\ref{切換至旅遊資料頁面}、\ref{篩選旅遊資料}}
  {確認至少有一個以上的資料。點選切換至旅遊資料頁面按鈕，顯示旅遊資料頁面。點選篩選資料按鈕，顯示篩選\&排序介面。根據日期、標籤等條件或是地理位置篩選和搜尋旅遊資料。}
  {資料正確顯示在旅遊資料頁面。}

\addtestcase
  {創建旅程測試}
  {}
  {\ref{創建新旅程}}
  {點選旅程管理按鈕，點選功能選單按鈕，點選新增旅程圖示，輸入旅程名稱。}
  {成功創建旅程。}

\addtestcase
  {編輯旅程測試}
  {}
  {\ref{編輯旅程的標題}}
  {點擊旅程管理按鈕，顯示旅程列表，長按旅程，跳出選單，選擇編輯旅程標題，編輯旅程標題。}
  {成功編輯旅程。}

\addtestcase
  {編輯軌跡測試}
  {}
  {\ref{檢視軌跡列表}、\ref{編輯軌跡的標題}}
  {點擊旅程詳細資料按鈕，顯示旅程詳細資料，左滑至軌跡列表，長按軌跡標，跳出選單，選擇編輯軌跡標題，編輯軌跡標題。}
  {成功編輯軌跡。}

\addtestcase
  {編輯個別旅遊資料測試}
  {}
  {\ref{切換至旅遊資料頁面}、\ref{檢視個別旅遊資料}、\ref{編輯旅遊資料資訊}}
  {在地圖頁面點選主頁切換按鈕，切換至旅遊資料頁面，點選某個旅遊資料，顯示資料本身與功能選項，選擇編輯標題、標籤、或日期，編輯資料。}
  {資料的訊息被成功更新。}

\addtestcase
  {刪除旅程測試}
  {}
  {\ref{刪除旅程}}
  {點擊旅程管理按鈕，顯示旅程列表，長按旅程，跳出選單，選擇刪除旅程，跳出確認框，點選確認。}
  {成功刪除旅程。}

\addtestcase
  {刪除軌跡測試}
  {}
  {\ref{檢視旅程軌跡的統計資料}、\ref{刪除軌跡}}
  {點擊旅程詳細資料按鈕，顯示旅程詳細資料，左滑至軌跡列表，長按軌跡標，跳出選單，選擇刪除軌跡，跳出確認框，點選確認。}
  {成功刪除軌跡。}

\addtestcase
  {刪除旅遊資料測試}
  {}
  {\ref{切換至旅遊資料頁面}、\ref{刪除旅遊資料}}
  {在地圖頁面點選主頁切換按鈕，切換至旅遊資料頁面，點選某個旅遊資料，顯示資料本身與功能選項，選擇刪除資料，跳出確認框，點選確認。}
  {成功刪除旅遊資料。}

\addtestcase
  {地圖控制測試}
  {}
  {\ref{基礎控制動作}, \ref{定位至目前位置}}
  {在地圖上縮放、移動、旋轉地圖或是點選定位按鈕。}
  {地圖正確反應。}

\addtestcase
  {定位至指定軌跡測試}
  {}
  {\ref{檢視軌跡列表}、\ref{定位至指定軌跡}}
  {點擊旅程詳細資料按鈕，顯示旅程詳細資料，左滑至軌跡列表，點選某一軌跡。}
  {地圖正確反應，定位至指定軌跡。}

\addtestcase
  {定位至指定旅遊資料測試}
  {}
  {\ref{定位至指定旅遊資料}}
  {點擊時間軸上的某一個時段。}
  {地圖正確反應，定位至指定旅遊資料。}

\addtestcase
  {匯出軌跡圖測試}
  {}
  {\ref{匯出軌跡圖}}
  {點選旅程管理按鈕，點選功能選單按鈕，點選匯出按鈕，選擇匯出位置。}
  {成功匯出軌跡圖。}

\addtestcase
  {分享測試}
  {}
  {\ref{分享到社群軟體}}
  {在地圖頁面點選主頁切換按鈕，切換至旅遊資料頁面，點選某個旅遊資料，顯示資料本身與功能選項，選擇分享，跳出分享選單，選擇要分享的目標app。}
  {成功分享資料。}

\addtestcase
  {AI 功能測試}
  {}
  {\ref{與AI對話來篩選旅遊資料}、\ref{與AI對話來選取並編輯或刪除旅遊資料}, \ref{AI自動辨識並標記照片}}
  {點選AI助手按鈕，輸入文字訊息。}
  {AI根據使用者輸入的內容正確完成任務。}

\testcaseTable
